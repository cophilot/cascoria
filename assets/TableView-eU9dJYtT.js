import{L as y,_,c as l,a as s,F as m,r as d,d as g,o as i,t as p,n as f,M as b,e as w,f as v,g as M}from"./index-6nPeNhcb.js";const I={name:"CasTable",props:{count:{type:Number,required:!0}},data(){return{wMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],hMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],bonusMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],coneRow:[0,0,0,0,0,0],extensionRow:[0,0,0,0,0,0],names:["","","","","",""],extensionEnabled:!1}},watch:{hMatrix:{handler:function(o){this.updateBonusMatrix()},deep:!0}},mounted(){this.$route.path.includes("landmarks")&&(this.extensionEnabled=!0),setTimeout(()=>{const o=y.get(this.count+"wMatrix"),e=y.get(this.count+"hMatrix"),a=y.get(this.count+"coneRow"),c=y.get(this.count+"extensionRow"),n=y.get(this.count+"names");o&&(this.wMatrix=JSON.parse(o)),e&&(this.hMatrix=JSON.parse(e)),a&&(this.coneRow=JSON.parse(a)),c&&(this.extensionRow=JSON.parse(c)),n&&(this.names=JSON.parse(n))},10)},methods:{reset(){localStorage.removeItem(this.count+"wMatrix"),localStorage.removeItem(this.count+"hMatrix"),localStorage.removeItem(this.count+"coneRow"),localStorage.removeItem(this.count+"extensionRow"),localStorage.removeItem(this.count+"names"),this.wMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.hMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.coneRow=[0,0,0,0,0,0],this.extensionRow=[0,0,0,0,0,0],this.names=["","","","","",""]},goToHome(){this.$router.push({name:"home"})},getArray(){const o=[];for(let e=0;e<this.count;e++)o.push(e+1);return o},setWMatrix(o,e,a){this.wMatrix[o-1][e-1]=parseInt(a.target.value)||0,y.set(this.count+"wMatrix",JSON.stringify(this.wMatrix))},setHMatrix(o,e,a){this.hMatrix[o-1][e-1]=parseInt(a.target.value)||0,y.set(this.count+"hMatrix",JSON.stringify(this.hMatrix))},setConeRow(o,e){this.coneRow[o-1]=parseInt(e.target.value)||0,y.set(this.count+"coneRow",JSON.stringify(this.coneRow))},setExtensionRow(o,e){this.extensionRow[o-1]=parseInt(e.target.value)||0,y.set(this.count+"extensionRow",JSON.stringify(this.extensionRow))},setName(o,e){let a=e.target.value||"";a=a.toUpperCase(),this.names[o-1]=a,y.set(this.count+"names",JSON.stringify(this.names))},updateBonusMatrix(){const o=[];if(this.count==1){for(let e of this.hMatrix)o.push(e[0]>=7?[2]:[0]);this.bonusMatrix=o;return}if(this.count==2){for(let e of this.hMatrix)e[0]>e[1]?o.push([2,0]):e[0]<e[1]?o.push([0,2]):e[0]!=0&&e[1]!=0?o.push([1,1]):o.push([0,0]);this.bonusMatrix=o;return}for(let e of this.hMatrix){let a=0,c=0;for(let h=0;h<e.length;h++)e[h]>a?(c=a,a=e[h]):e[h]>c&&(c=e[h]);if(a==0){o.push([0,0,0,0,0]);continue}let n=0,r=0;for(let h=0;h<e.length;h++)e[h]==a&&n++,e[h]==c&&r++;let t=0,u=0;n==1?(t=3,r==1&&c!=0&&(u=1)):n==2?t=2:n>2&&(t=1);let x=[];for(let h=0;h<e.length;h++)e[h]==a?x.push(t):e[h]==c?x.push(u):x.push(0);o.push(x)}this.bonusMatrix=o}},computed:{getWScore(){const o=[];for(let e=0;e<this.count;e++){let a=0;for(let c=0;c<5;c++)a+=this.wMatrix[c][e];o.push(a)}return o},getHScore(){const o=[];for(let e=0;e<this.count;e++){let a=0;for(let c=0;c<5;c++)a+=this.hMatrix[c][e]+this.bonusMatrix[c][e];o.push(a)}return o},getTotalScore(){const o=[];for(let e=0;e<this.count;e++)o.push(this.getWScore[e]+this.getHScore[e]+this.coneRow[e]+this.extensionRow[e]);return o}}},k="/assets/bear-BPpw3-6n.png",S="/assets/deer-CIj7f_00.png",R="/assets/salmon-CLhdJxux.png",C="/assets/hawk-Cd-aOFvI.png",A="/assets/fox-V8hjKkIj.png",H="/assets/wildness-CQOj1J6u.png",N="/assets/mountains-DPW03lBT.png",E="/assets/forest-DxC-hdAS.png",T="/assets/desert-DMxzQcNt.png",B="/assets/swamp-BER-f-wo.png",D="/assets/water-B6DeuP6r.png",W="/assets/hectare-CPqTJC2e.png",O="/assets/cone-BEYejKlo.png",J="/assets/extension-DoK-9Wvd.png",L="/assets/final_score-Cqj4WorL.png",F={class:"sticky name-row print-off"},P=["placeholder","onInput","value"],j={class:"print-only"},V={class:"name-row"},q={class:"print-only print-label",style:{"margin-top":"10px"}},K=["id","onInput","value"],z={class:"print-only print-label"},Q=["id","onInput","value"],Y={class:"print-only print-label"},U=["id","onInput","value"],G={class:"print-only print-label"},X=["id","onInput","value"],Z={class:"print-only print-label"},$=["id","onInput","value"],tt={class:"print-only print-label"},et={class:"sub-divider sub-score"},st=["value"],nt={class:"print-only print-label"},ot=["id","onInput","value"],rt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},it=["id","onInput","value"],lt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},ut=["id","onInput","value"],at={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},ct=["id","onInput","value"],pt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},mt=["id","onInput","value"],dt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},ht={class:"sub-divider sub-score"},yt=["value"],xt={class:"print-only print-label"},gt={class:"sub-divider"},ft=["id","onInput","value"],Mt={class:"print-only print-label"},_t={key:0,class:"sub-divider"},bt=["id","onInput","value"],wt={class:"print-only print-label"},vt={class:"final-score"},It=["value"],kt={class:"print-only print-label"};function St(o,e,a,c,n,r){return i(),l(m,null,[s("div",null,[s("table",null,[s("tr",F,[e[1]||(e[1]=s("td",{class:"num-td"},null,-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"n"+t,class:"num-td"},[s("input",{type:"text",placeholder:"P"+t,class:"my-input name-input print-off",onInput:u=>r.setName(t,u),value:n.names[t-1]},null,40,P)]))),128))]),s("div",j,[s("tr",V,[e[2]||(e[2]=s("td",{class:"num-td"},null,-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"n"+t,class:"num-td"},[s("p",q,p(n.names[t-1]==""?"P"+t:n.names[t-1]),1)]))),128))])]),s("tr",null,[e[3]||(e[3]=s("td",{class:"icon-td"},[s("img",{src:k,alt:"Bear",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"w1"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"w1"+t,onInput:u=>r.setWMatrix(1,t,u),value:n.wMatrix[0][t-1]==0?"":n.wMatrix[0][t-1]},null,40,K),s("p",z,p(n.wMatrix[0][t-1]),1)]))),128))]),s("tr",null,[e[4]||(e[4]=s("td",{class:"icon-td"},[s("img",{src:S,alt:"Deer",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"w2"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"w2"+t,onInput:u=>r.setWMatrix(2,t,u),value:n.wMatrix[1][t-1]==0?"":n.wMatrix[1][t-1]},null,40,Q),s("p",Y,p(n.wMatrix[1][t-1]),1)]))),128))]),s("tr",null,[e[5]||(e[5]=s("td",{class:"icon-td"},[s("img",{src:R,alt:"Salmon",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"w3"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"w3"+t,onInput:u=>r.setWMatrix(3,t,u),value:n.wMatrix[2][t-1]==0?"":n.wMatrix[2][t-1]},null,40,U),s("p",G,p(n.wMatrix[2][t-1]),1)]))),128))]),s("tr",null,[e[6]||(e[6]=s("td",{class:"icon-td"},[s("img",{src:C,alt:"Hawk",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"w4"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"w4"+t,onInput:u=>r.setWMatrix(4,t,u),value:n.wMatrix[3][t-1]==0?"":n.wMatrix[3][t-1]},null,40,X),s("p",Z,p(n.wMatrix[3][t-1]),1)]))),128))]),s("tr",null,[e[7]||(e[7]=s("td",{class:"icon-td"},[s("img",{src:A,alt:"Fox",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"w5"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"w5"+t,onInput:u=>r.setWMatrix(5,t,u),value:n.wMatrix[4][t-1]==0?"":n.wMatrix[4][t-1]},null,40,$),s("p",tt,p(n.wMatrix[4][t-1]),1)]))),128))]),s("tr",et,[e[8]||(e[8]=s("td",{class:"icon-td"},[s("img",{src:H,alt:"W",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getWScore,(t,u)=>(i(),l("td",{key:"W"+u,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",class:"my-input print-off",value:t,disabled:""},null,8,st),s("p",nt,p(t),1)]))),128))]),s("tr",null,[e[9]||(e[9]=s("td",{class:"icon-td"},[s("img",{src:N,alt:"Mountains",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"h1"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"h1"+t,onInput:u=>r.setHMatrix(1,t,u),value:n.hMatrix[0][t-1]==0?"":n.hMatrix[0][t-1]},null,40,ot),s("p",rt,p(n.hMatrix[0][t-1]),1),s("p",{class:"bonus",style:f({opacity:n.bonusMatrix[0][t-1]==0?"0":"0.6"})},p("+"+n.bonusMatrix[0][t-1]),5)]))),128))]),s("tr",null,[e[10]||(e[10]=s("td",{class:"icon-td"},[s("img",{src:E,alt:"Forest",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"h2"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"h2"+t,onInput:u=>r.setHMatrix(2,t,u),value:n.hMatrix[1][t-1]==0?"":n.hMatrix[1][t-1]},null,40,it),s("p",lt,p(n.hMatrix[1][t-1]),1),s("p",{class:"bonus",style:f({opacity:n.bonusMatrix[1][t-1]==0?"0":"0.6"})},p("+"+n.bonusMatrix[1][t-1]),5)]))),128))]),s("tr",null,[e[11]||(e[11]=s("td",{class:"icon-td"},[s("img",{src:T,alt:"Desert",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"h3"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"h3"+t,onInput:u=>r.setHMatrix(3,t,u),value:n.hMatrix[2][t-1]==0?"":n.hMatrix[2][t-1]},null,40,ut),s("p",at,p(n.hMatrix[2][t-1]),1),s("p",{class:"bonus",style:f({opacity:n.bonusMatrix[2][t-1]==0?"0":"0.6"})},p("+"+n.bonusMatrix[2][t-1]),5)]))),128))]),s("tr",null,[e[12]||(e[12]=s("td",{class:"icon-td"},[s("img",{src:B,alt:"Swamp",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"h4"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"h4"+t,onInput:u=>r.setHMatrix(4,t,u),value:n.hMatrix[3][t-1]==0?"":n.hMatrix[3][t-1]},null,40,ct),s("p",pt,p(n.hMatrix[3][t-1]),1),s("p",{class:"bonus",style:f({opacity:n.bonusMatrix[3][t-1]==0?"0":"0.6"})},p("+"+n.bonusMatrix[3][t-1]),5)]))),128))]),s("tr",null,[e[13]||(e[13]=s("td",{class:"icon-td"},[s("img",{src:D,alt:"Water",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"h5"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"h5"+t,onInput:u=>r.setHMatrix(5,t,u),value:n.hMatrix[4][t-1]==0?"":n.hMatrix[4][t-1]},null,40,mt),s("p",dt,p(n.hMatrix[4][t-1]),1),s("p",{class:"bonus",style:f({opacity:n.bonusMatrix[4][t-1]==0?"0":"0.6"})},p("+"+n.bonusMatrix[4][t-1]),5)]))),128))]),s("tr",ht,[e[14]||(e[14]=s("td",{class:"icon-td"},[s("img",{src:W,alt:"H",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getHScore,(t,u)=>(i(),l("td",{key:"H"+u,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",class:"my-input print-off",value:t,disabled:""},null,8,yt),s("p",xt,p(t),1)]))),128))]),s("tr",gt,[e[15]||(e[15]=s("td",{class:"icon-td"},[s("img",{src:O,alt:"Cone",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"C"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"C"+t,onInput:u=>r.setConeRow(t,u),value:n.coneRow[t-1]==0?"":n.coneRow[t-1]},null,40,ft),s("p",Mt,p(n.coneRow[t-1]),1)]))),128))]),n.extensionEnabled?(i(),l("tr",_t,[e[16]||(e[16]=s("td",{class:"icon-td"},[s("img",{src:J,alt:"Landmarks",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getArray(),t=>(i(),l("td",{key:"C"+t,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",placeholder:"0",class:"my-input print-off",id:"C"+t,onInput:u=>r.setExtensionRow(t,u),value:n.extensionRow[t-1]==0?"":n.extensionRow[t-1]},null,40,bt),s("p",wt,p(n.extensionRow[t-1]),1)]))),128))])):g("",!0),s("tr",vt,[e[17]||(e[17]=s("td",{class:"icon-td"},[s("img",{src:L,alt:"Final Score",class:"icon"})],-1)),(i(!0),l(m,null,d(r.getTotalScore,(t,u)=>(i(),l("td",{key:"F"+u,class:"num-td"},[s("input",{type:"number",inputMode:"numeric",class:"my-input print-off",value:t,disabled:""},null,8,It),s("p",kt,p(t),1)]))),128))])])]),s("button",{class:"btn reset-btn print-off",onClick:e[0]||(e[0]=t=>r.reset())},"Reset")],64)}const Rt=_(I,[["render",St],["__scopeId","data-v-ed650d87"]]),Ct={name:"TableView",components:{CasTable:Rt,MyLogo:b},data(){return{count:1,printing:!1}},mounted(){let o=this.$route.params.count;Array.isArray(o)&&(o=o[0]),!o||isNaN(parseInt(o))||parseInt(o)<1||parseInt(o)>6?this.$router.push({name:"home"}):this.count=parseInt(o)},methods:{goToHome(){this.$router.push({name:"home"})},saveAsExcel(){const o=document.querySelector("table");if(!o)return;const c=`<style>table{border-collapse: collapse;}td,th{border: 1px solid #000;padding: 5px;}</style>${o.outerHTML}`,n=`data:application/vnd.ms-excel;base64,${btoa(c)}`,r=document.createElement("a");r.href=n,r.download="table.xls",r.click()},saveAsPDF(){this.printing=!0;const o=document.getElementsByClassName("print-off"),e=[];Array.prototype.forEach.call(o,function(c){e.push(c.style.display),c.style.display="none"});const a=document.getElementsByClassName("print-only");Array.prototype.forEach.call(a,function(c){c.style.display="block"}),setTimeout(()=>{const c=document.documentElement.outerHTML,n=window.open("","printwindow");if(!n){alert("Please allow popups for this website");return}n.document.write(c),n.print(),n.close(),setTimeout(()=>{this.printing=!1,Array.prototype.forEach.call(o,function(r,t){r.style.display=e[t]}),Array.prototype.forEach.call(a,function(r){r.style.display="none"})},500)},500)},getDate(){const o=new Date,e=o.getDate(),a=o.toLocaleString("default",{month:"long"}),c=o.getFullYear();return`${e}. ${a} ${c}`}}},At={key:0},Ht={key:2},Nt={class:"container"},Et={key:0,class:"url"},Tt={key:1,class:"btn-container"};function Bt(o,e,a,c,n,r){const t=M("MyLogo"),u=M("CasTable");return i(),l("div",null,[n.printing?g("",!0):(i(),l("h1",At,p(n.count)+" Player",1)),n.printing?(i(),w(t,{key:1,color:"black",big:!0})):g("",!0),n.printing?(i(),l("h1",Ht,p(r.getDate()),1)):g("",!0),s("div",Nt,[v(u,{count:n.count},null,8,["count"]),n.printing?(i(),l("h2",Et,"cascoria.philipp-bonin.com")):g("",!0),n.printing?g("",!0):(i(),l("div",Tt,[s("button",{class:"btn",onClick:e[0]||(e[0]=x=>r.saveAsPDF())},"Save as PDF"),s("button",{class:"btn",onClick:e[1]||(e[1]=x=>r.saveAsExcel())},"Save as Excel"),s("button",{class:"btn home-btn",onClick:e[2]||(e[2]=x=>r.goToHome())},"Home")]))])])}const Wt=_(Ct,[["render",Bt],["__scopeId","data-v-9fa11c4f"]]);export{Wt as default};
