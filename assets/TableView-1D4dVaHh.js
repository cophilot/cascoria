import{L as m,_ as M,o as l,c as i,a as s,F as h,r as p,t as _,p as b,b as v,M as w,e as x,f as y,g as f,h as I}from"./index-0QquHgGw.js";const S={name:"CasTable",props:{count:{type:Number,required:!0}},data(){return{wMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],hMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],bonusMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],coneRow:[0,0,0,0,0,0],names:["","","","","",""]}},watch:{hMatrix:{handler:function(e){this.updateBonusMatrix()},deep:!0}},mounted(){setTimeout(()=>{const e=m.get(this.count+"wMatrix"),n=m.get(this.count+"hMatrix"),c=m.get(this.count+"coneRow"),u=m.get(this.count+"names");e&&(this.wMatrix=JSON.parse(e)),n&&(this.hMatrix=JSON.parse(n)),c&&(this.coneRow=JSON.parse(c)),u&&(this.names=JSON.parse(u))},10)},methods:{reset(){localStorage.removeItem(this.count+"wMatrix"),localStorage.removeItem(this.count+"hMatrix"),localStorage.removeItem(this.count+"coneRow"),localStorage.removeItem(this.count+"names"),this.wMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.hMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.coneRow=[0,0,0,0,0,0],this.names=["","","","","",""]},goToHome(){this.$router.push({name:"home"})},getArray(){const e=[];for(let n=0;n<this.count;n++)e.push(n+1);return e},setWMatrix(e,n,c){this.wMatrix[e-1][n-1]=parseInt(c.target.value)||0,m.set(this.count+"wMatrix",JSON.stringify(this.wMatrix))},setHMatrix(e,n,c){this.hMatrix[e-1][n-1]=parseInt(c.target.value)||0,m.set(this.count+"hMatrix",JSON.stringify(this.hMatrix))},setConeRow(e,n){this.coneRow[e-1]=parseInt(n.target.value)||0,m.set(this.count+"coneRow",JSON.stringify(this.coneRow))},setName(e,n){this.names[e-1]=n.target.value||"",m.set(this.count+"names",JSON.stringify(this.names))},updateBonusMatrix(){if(this.count==1){let e=[];for(let n of this.hMatrix)e.push(n[0]>=7?[2]:[0]);this.bonusMatrix=e;return}if(this.count==2){let e=[];for(let n of this.hMatrix)n[0]>n[1]?e.push([2,0]):n[0]<n[1]?e.push([0,2]):n[0]!=0&&n[1]!=0?e.push([1,1]):e.push([0,0]);this.bonusMatrix=e,console.log(this.bonusMatrix);return}}},computed:{getWScore(){const e=[];for(let n=0;n<this.count;n++){let c=0;for(let u=0;u<5;u++)c+=this.wMatrix[u][n];e.push(c)}return e},getHScore(){const e=[];for(let n=0;n<this.count;n++){let c=0;for(let u=0;u<5;u++)c+=this.hMatrix[u][n]+this.bonusMatrix[u][n];e.push(c)}return e},getTotalScore(){const e=[];for(let n=0;n<this.count;n++)e.push(this.getWScore[n]+this.getHScore[n]+this.coneRow[n]);return e}}},k="/assets/bear-T6cN_upw.png",A="/assets/deer-iI-3_9NE.png",H="/assets/salmon-i4XScbsS.png",N="/assets/hawk-nfmjhbyD.png",C="/assets/fox-FfIYypCI.png",R="/assets/wildness-kDo9Serr.png",T="/assets/mountains-z1tN5QUz.png",D="/assets/forest-8QvoXQEv.png",E="/assets/desert-zMc0HDba.png",F="/assets/swamp-REfn_sKM.png",W="/assets/water-Aeg3rj-q.png",B="/assets/hectare-j6kyQtnn.png",J="/assets/cone-RGHoypaE.png",L="/assets/final_score-qo-FqKyy.png",d=e=>(b("data-v-4a5e1469"),e=e(),v(),e),O={class:"sticky"},j=d(()=>s("td",{class:"num-td"},null,-1)),q=["placeholder","onInput","value"],P=d(()=>s("td",{class:"icon-td"},[s("img",{src:k,alt:"Bear",class:"icon"})],-1)),V=["id","onInput","value"],Q=d(()=>s("td",{class:"icon-td"},[s("img",{src:A,alt:"Deer",class:"icon"})],-1)),z=["id","onInput","value"],K=d(()=>s("td",{class:"icon-td"},[s("img",{src:H,alt:"Salmon",class:"icon"})],-1)),X=["id","onInput","value"],Y=d(()=>s("td",{class:"icon-td"},[s("img",{src:N,alt:"Hawk",class:"icon"})],-1)),G=["id","onInput","value"],U=d(()=>s("td",{class:"icon-td"},[s("img",{src:C,alt:"Fox",class:"icon"})],-1)),Z=["id","onInput","value"],$={class:"sub-divider sub-score"},tt=d(()=>s("td",{class:"icon-td"},[s("img",{src:R,alt:"W",class:"icon"})],-1)),st=["value"],et=d(()=>s("td",{class:"icon-td"},[s("img",{src:T,alt:"Mountains",class:"icon"})],-1)),nt=["id","onInput","value"],rt={class:"bonus"},ot=d(()=>s("td",{class:"icon-td"},[s("img",{src:D,alt:"Forest",class:"icon"})],-1)),lt=["id","onInput","value"],it={class:"bonus"},at=d(()=>s("td",{class:"icon-td"},[s("img",{src:E,alt:"Desert",class:"icon"})],-1)),ct=["id","onInput","value"],ut={class:"bonus"},ht=d(()=>s("td",{class:"icon-td"},[s("img",{src:F,alt:"Swamp",class:"icon"})],-1)),pt=["id","onInput","value"],dt={class:"bonus"},mt=d(()=>s("td",{class:"icon-td"},[s("img",{src:W,alt:"Water",class:"icon"})],-1)),_t=["id","onInput","value"],yt={class:"bonus"},gt={class:"sub-divider sub-score"},xt=d(()=>s("td",{class:"icon-td"},[s("img",{src:B,alt:"H",class:"icon"})],-1)),Mt=["value"],bt={class:"sub-divider"},vt=d(()=>s("td",{class:"icon-td"},[s("img",{src:J,alt:"Cone",class:"icon"})],-1)),wt=["id","onInput","value"],ft={class:"final-score"},It=d(()=>s("td",{class:"icon-td"},[s("img",{src:L,alt:"Final Score",class:"icon"})],-1)),St=["value"];function kt(e,n,c,u,r,o){return l(),i(h,null,[s("div",null,[s("table",null,[s("tr",O,[j,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"n"+t,class:"num-td"},[s("input",{type:"text",placeholder:"P"+t,class:"my-input name-input",onInput:a=>o.setName(t,a),value:r.names[t-1]},null,40,q)]))),128))]),s("tr",null,[P,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"w1"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"w1"+t,onInput:a=>o.setWMatrix(1,t,a),value:r.wMatrix[0][t-1]==0?"":r.wMatrix[0][t-1]},null,40,V)]))),128))]),s("tr",null,[Q,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"w2"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"w2"+t,onInput:a=>o.setWMatrix(2,t,a),value:r.wMatrix[1][t-1]==0?"":r.wMatrix[1][t-1]},null,40,z)]))),128))]),s("tr",null,[K,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"w3"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"w3"+t,onInput:a=>o.setWMatrix(3,t,a),value:r.wMatrix[2][t-1]==0?"":r.wMatrix[2][t-1]},null,40,X)]))),128))]),s("tr",null,[Y,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"w4"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"w4"+t,onInput:a=>o.setWMatrix(4,t,a),value:r.wMatrix[3][t-1]==0?"":r.wMatrix[3][t-1]},null,40,G)]))),128))]),s("tr",null,[U,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"w5"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"w5"+t,onInput:a=>o.setWMatrix(5,t,a),value:r.wMatrix[4][t-1]==0?"":r.wMatrix[4][t-1]},null,40,Z)]))),128))]),s("tr",$,[tt,(l(!0),i(h,null,p(o.getWScore,t=>(l(),i("td",{key:"W"+t,class:"num-td"},[s("input",{type:"number",class:"my-input",value:t,disabled:""},null,8,st)]))),128))]),s("tr",null,[et,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"h1"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"h1"+t,onInput:a=>o.setHMatrix(1,t,a),value:r.hMatrix[0][t-1]==0?"":r.hMatrix[0][t-1]},null,40,nt),s("p",rt,_((r.bonusMatrix[0][t-1]||0)==0?"":"+"+r.bonusMatrix[0][t-1]),1)]))),128))]),s("tr",null,[ot,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"h2"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"h2"+t,onInput:a=>o.setHMatrix(2,t,a),value:r.hMatrix[1][t-1]==0?"":r.hMatrix[1][t-1]},null,40,lt),s("p",it,_((r.bonusMatrix[1][t-1]||0)==0?"":"+"+r.bonusMatrix[1][t-1]),1)]))),128))]),s("tr",null,[at,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"h3"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"h3"+t,onInput:a=>o.setHMatrix(3,t,a),value:r.hMatrix[2][t-1]==0?"":r.hMatrix[2][t-1]},null,40,ct),s("p",ut,_((r.bonusMatrix[2][t-1]||0)==0?"":"+"+r.bonusMatrix[2][t-1]),1)]))),128))]),s("tr",null,[ht,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"h4"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"h4"+t,onInput:a=>o.setHMatrix(4,t,a),value:r.hMatrix[3][t-1]==0?"":r.hMatrix[3][t-1]},null,40,pt),s("p",dt,_((r.bonusMatrix[3][t-1]||0)==0?"":"+"+r.bonusMatrix[3][t-1]),1)]))),128))]),s("tr",null,[mt,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"h5"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"h5"+t,onInput:a=>o.setHMatrix(5,t,a),value:r.hMatrix[4][t-1]==0?"":r.hMatrix[4][t-1]},null,40,_t),s("p",yt,_((r.bonusMatrix[4][t-1]||0)==0?"":"+"+r.bonusMatrix[4][t-1]),1)]))),128))]),s("tr",gt,[xt,(l(!0),i(h,null,p(o.getHScore,t=>(l(),i("td",{key:"H"+t,class:"num-td"},[s("input",{type:"number",class:"my-input",value:t,disabled:""},null,8,Mt)]))),128))]),s("tr",bt,[vt,(l(!0),i(h,null,p(o.getArray(),t=>(l(),i("td",{key:"C"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input",id:"C"+t,onInput:a=>o.setConeRow(t,a),value:r.coneRow[t-1]==0?"":r.coneRow[t-1]},null,40,wt)]))),128))]),s("tr",ft,[It,(l(!0),i(h,null,p(o.getTotalScore,t=>(l(),i("td",{key:"F"+t,class:"num-td"},[s("input",{type:"number",class:"my-input",value:t,disabled:""},null,8,St)]))),128))])])]),s("button",{class:"btn reset-btn print-off",onClick:n[0]||(n[0]=t=>o.reset())},"Reset")],64)}const At=M(S,[["render",kt],["__scopeId","data-v-4a5e1469"]]),Ht={name:"TableView",components:{CasTable:At,MyLogo:w},data(){return{count:1,printing:!1}},mounted(){let e=this.$route.params.count;Array.isArray(e)&&(e=e[0]),!e||isNaN(parseInt(e))||parseInt(e)<1||parseInt(e)>6?this.$router.push({name:"home"}):this.count=parseInt(e)},methods:{goToHome(){this.$router.push({name:"home"})},saveAsExcel(){const e=document.querySelector("table");if(!e)return;const u=`<style>table{border-collapse: collapse;}td,th{border: 1px solid #000;padding: 5px;}</style>${e.outerHTML}`,r=`data:application/vnd.ms-excel;base64,${btoa(u)}`,o=document.createElement("a");o.href=r,o.download="table.xls",o.click()},saveAsPDF(){this.printing=!0;const e=document.getElementsByClassName("print-off"),n=[];Array.prototype.forEach.call(e,function(c){n.push(c.style.display),c.style.display="none"}),setTimeout(()=>{window.print(),setTimeout(()=>{this.printing=!1,Array.prototype.forEach.call(e,function(c,u){c.style.display=n[u]})},1e3)},700)},getDate(){const e=new Date,n=e.getDate(),c=e.toLocaleString("default",{month:"long"}),u=e.getFullYear();return`${n}. ${c} ${u}`}}},Nt={key:0},Ct={key:2},Rt={class:"container"},Tt={key:0},Dt={key:1,class:"btn-container"};function Et(e,n,c,u,r,o){const t=x("MyLogo"),a=x("CasTable");return l(),i("div",null,[r.printing?y("",!0):(l(),i("h1",Nt,_(r.count)+" Player",1)),r.printing?(l(),f(t,{key:1,color:"black",big:!0})):y("",!0),r.printing?(l(),i("h1",Ct,_(o.getDate()),1)):y("",!0),s("div",Rt,[I(a,{count:r.count},null,8,["count"]),r.printing?(l(),i("h2",Tt,"cascoria.philipp-bonin.com")):y("",!0),r.printing?y("",!0):(l(),i("div",Dt,[s("button",{class:"btn",onClick:n[0]||(n[0]=g=>o.saveAsPDF())},"Save as PDF"),s("button",{class:"btn",onClick:n[1]||(n[1]=g=>o.saveAsExcel())},"Save as Excel"),s("button",{class:"btn home-btn",onClick:n[2]||(n[2]=g=>o.goToHome())},"Home")]))])])}const Wt=M(Ht,[["render",Et],["__scopeId","data-v-7c9d7e0d"]]);export{Wt as default};
