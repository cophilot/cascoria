import{L as y,_ as M,o as r,c as l,a as s,F as h,r as d,e as x,t as p,n as f,p as w,b as v,M as I,f as b,g as k,h as S}from"./index-W1HRc-YR.js";const R={name:"CasTable",props:{count:{type:Number,required:!0}},data(){return{wMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],hMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],bonusMatrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],coneRow:[0,0,0,0,0,0],extensionRow:[0,0,0,0,0,0],names:["","","","","",""],extensionEnabled:!1}},watch:{hMatrix:{handler:function(o){this.updateBonusMatrix()},deep:!0}},mounted(){this.$route.path.includes("landmarks")&&(this.extensionEnabled=!0),setTimeout(()=>{const o=y.get(this.count+"wMatrix"),n=y.get(this.count+"hMatrix"),u=y.get(this.count+"coneRow"),c=y.get(this.count+"extensionRow"),e=y.get(this.count+"names");o&&(this.wMatrix=JSON.parse(o)),n&&(this.hMatrix=JSON.parse(n)),u&&(this.coneRow=JSON.parse(u)),c&&(this.extensionRow=JSON.parse(c)),e&&(this.names=JSON.parse(e))},10)},methods:{reset(){localStorage.removeItem(this.count+"wMatrix"),localStorage.removeItem(this.count+"hMatrix"),localStorage.removeItem(this.count+"coneRow"),localStorage.removeItem(this.count+"extensionRow"),localStorage.removeItem(this.count+"names"),this.wMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.hMatrix=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],this.coneRow=[0,0,0,0,0,0],this.extensionRow=[0,0,0,0,0,0],this.names=["","","","","",""]},goToHome(){this.$router.push({name:"home"})},getArray(){const o=[];for(let n=0;n<this.count;n++)o.push(n+1);return o},setWMatrix(o,n,u){this.wMatrix[o-1][n-1]=parseInt(u.target.value)||0,y.set(this.count+"wMatrix",JSON.stringify(this.wMatrix))},setHMatrix(o,n,u){this.hMatrix[o-1][n-1]=parseInt(u.target.value)||0,y.set(this.count+"hMatrix",JSON.stringify(this.hMatrix))},setConeRow(o,n){this.coneRow[o-1]=parseInt(n.target.value)||0,y.set(this.count+"coneRow",JSON.stringify(this.coneRow))},setExtensionRow(o,n){this.extensionRow[o-1]=parseInt(n.target.value)||0,y.set(this.count+"extensionRow",JSON.stringify(this.extensionRow))},setName(o,n){this.names[o-1]=n.target.value||"",y.set(this.count+"names",JSON.stringify(this.names))},updateBonusMatrix(){const o=[];if(this.count==1){for(let n of this.hMatrix)o.push(n[0]>=7?[2]:[0]);this.bonusMatrix=o;return}if(this.count==2){for(let n of this.hMatrix)n[0]>n[1]?o.push([2,0]):n[0]<n[1]?o.push([0,2]):n[0]!=0&&n[1]!=0?o.push([1,1]):o.push([0,0]);this.bonusMatrix=o;return}for(let n of this.hMatrix){let u=0,c=0;for(let _=0;_<n.length;_++)n[_]>u?(c=u,u=n[_]):n[_]>c&&(c=n[_]);if(u==0){o.push([0,0,0,0,0]);continue}let e=0,i=0;for(let _=0;_<n.length;_++)n[_]==u&&e++,n[_]==c&&i++;let t=0,a=0;e==1?(t=3,i==1&&c!=0&&(a=1)):e==2?t=2:e>2&&(t=1);let g=[];for(let _=0;_<n.length;_++)n[_]==u?g.push(t):n[_]==c?g.push(a):g.push(0);o.push(g)}this.bonusMatrix=o}},computed:{getWScore(){const o=[];for(let n=0;n<this.count;n++){let u=0;for(let c=0;c<5;c++)u+=this.wMatrix[c][n];o.push(u)}return o},getHScore(){const o=[];for(let n=0;n<this.count;n++){let u=0;for(let c=0;c<5;c++)u+=this.hMatrix[c][n]+this.bonusMatrix[c][n];o.push(u)}return o},getTotalScore(){const o=[];for(let n=0;n<this.count;n++)o.push(this.getWScore[n]+this.getHScore[n]+this.coneRow[n]+this.extensionRow[n]);return o}}},A="/assets/bear-T6cN_upw.png",H="/assets/deer-iI-3_9NE.png",C="/assets/salmon-i4XScbsS.png",N="/assets/hawk-nfmjhbyD.png",E="/assets/fox-FfIYypCI.png",T="/assets/wildness-kDo9Serr.png",D="/assets/mountains-z1tN5QUz.png",W="/assets/forest-8QvoXQEv.png",B="/assets/desert-zMc0HDba.png",F="/assets/swamp-REfn_sKM.png",O="/assets/water-Aeg3rj-q.png",J="/assets/hectare-j6kyQtnn.png",L="/assets/cone-RGHoypaE.png",P="/assets/extension-6CvvVr3W.png",V="/assets/final_score-qo-FqKyy.png",m=o=>(w("data-v-684686da"),o=o(),v(),o),j={class:"sticky name-row print-off"},q=m(()=>s("td",{class:"num-td"},null,-1)),z=["placeholder","onInput","value"],Q={class:"print-only"},K={class:"name-row"},X=m(()=>s("td",{class:"num-td"},null,-1)),Y={class:"print-only print-label",style:{"margin-top":"10px"}},G=m(()=>s("td",{class:"icon-td"},[s("img",{src:A,alt:"Bear",class:"icon"})],-1)),U=["id","onInput","value"],Z={class:"print-only print-label"},$=m(()=>s("td",{class:"icon-td"},[s("img",{src:H,alt:"Deer",class:"icon"})],-1)),tt=["id","onInput","value"],st={class:"print-only print-label"},et=m(()=>s("td",{class:"icon-td"},[s("img",{src:C,alt:"Salmon",class:"icon"})],-1)),nt=["id","onInput","value"],ot={class:"print-only print-label"},it=m(()=>s("td",{class:"icon-td"},[s("img",{src:N,alt:"Hawk",class:"icon"})],-1)),rt=["id","onInput","value"],lt={class:"print-only print-label"},at=m(()=>s("td",{class:"icon-td"},[s("img",{src:E,alt:"Fox",class:"icon"})],-1)),ct=["id","onInput","value"],ut={class:"print-only print-label"},pt={class:"sub-divider sub-score"},ht=m(()=>s("td",{class:"icon-td"},[s("img",{src:T,alt:"W",class:"icon"})],-1)),dt=["value"],mt={class:"print-only print-label"},_t=m(()=>s("td",{class:"icon-td"},[s("img",{src:D,alt:"Mountains",class:"icon"})],-1)),yt=["id","onInput","value"],gt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},xt=m(()=>s("td",{class:"icon-td"},[s("img",{src:W,alt:"Forest",class:"icon"})],-1)),ft=["id","onInput","value"],bt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},Mt=m(()=>s("td",{class:"icon-td"},[s("img",{src:B,alt:"Desert",class:"icon"})],-1)),wt=["id","onInput","value"],vt={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},It=m(()=>s("td",{class:"icon-td"},[s("img",{src:F,alt:"Swamp",class:"icon"})],-1)),kt=["id","onInput","value"],St={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},Rt=m(()=>s("td",{class:"icon-td"},[s("img",{src:O,alt:"Water",class:"icon"})],-1)),At=["id","onInput","value"],Ht={class:"print-only print-label",style:{"margin-top":"0","margin-bottom":"-5px"}},Ct={class:"sub-divider sub-score"},Nt=m(()=>s("td",{class:"icon-td"},[s("img",{src:J,alt:"H",class:"icon"})],-1)),Et=["value"],Tt={class:"print-only print-label"},Dt={class:"sub-divider"},Wt=m(()=>s("td",{class:"icon-td"},[s("img",{src:L,alt:"Cone",class:"icon"})],-1)),Bt=["id","onInput","value"],Ft={class:"print-only print-label"},Ot={key:0,class:"sub-divider"},Jt=m(()=>s("td",{class:"icon-td"},[s("img",{src:P,alt:"Landmarks",class:"icon"})],-1)),Lt=["id","onInput","value"],Pt={class:"print-only print-label"},Vt={class:"final-score"},jt=m(()=>s("td",{class:"icon-td"},[s("img",{src:V,alt:"Final Score",class:"icon"})],-1)),qt=["value"],zt={class:"print-only print-label"};function Qt(o,n,u,c,e,i){return r(),l(h,null,[s("div",null,[s("table",null,[s("tr",j,[q,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"n"+t,class:"num-td"},[s("input",{type:"text",placeholder:"P"+t,class:"my-input name-input print-off",onInput:a=>i.setName(t,a),value:e.names[t-1]},null,40,z)]))),128))]),s("div",Q,[s("tr",K,[X,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"n"+t,class:"num-td"},[s("p",Y,p(e.names[t-1]==""?"P"+t:e.names[t-1]),1)]))),128))])]),s("tr",null,[G,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"w1"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"w1"+t,onInput:a=>i.setWMatrix(1,t,a),value:e.wMatrix[0][t-1]==0?"":e.wMatrix[0][t-1]},null,40,U),s("p",Z,p(e.wMatrix[0][t-1]),1)]))),128))]),s("tr",null,[$,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"w2"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"w2"+t,onInput:a=>i.setWMatrix(2,t,a),value:e.wMatrix[1][t-1]==0?"":e.wMatrix[1][t-1]},null,40,tt),s("p",st,p(e.wMatrix[1][t-1]),1)]))),128))]),s("tr",null,[et,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"w3"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"w3"+t,onInput:a=>i.setWMatrix(3,t,a),value:e.wMatrix[2][t-1]==0?"":e.wMatrix[2][t-1]},null,40,nt),s("p",ot,p(e.wMatrix[2][t-1]),1)]))),128))]),s("tr",null,[it,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"w4"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"w4"+t,onInput:a=>i.setWMatrix(4,t,a),value:e.wMatrix[3][t-1]==0?"":e.wMatrix[3][t-1]},null,40,rt),s("p",lt,p(e.wMatrix[3][t-1]),1)]))),128))]),s("tr",null,[at,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"w5"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"w5"+t,onInput:a=>i.setWMatrix(5,t,a),value:e.wMatrix[4][t-1]==0?"":e.wMatrix[4][t-1]},null,40,ct),s("p",ut,p(e.wMatrix[4][t-1]),1)]))),128))]),s("tr",pt,[ht,(r(!0),l(h,null,d(i.getWScore,(t,a)=>(r(),l("td",{key:"W"+a,class:"num-td"},[s("input",{type:"number",class:"my-input print-off",value:t,disabled:""},null,8,dt),s("p",mt,p(t),1)]))),128))]),s("tr",null,[_t,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"h1"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"h1"+t,onInput:a=>i.setHMatrix(1,t,a),value:e.hMatrix[0][t-1]==0?"":e.hMatrix[0][t-1]},null,40,yt),s("p",gt,p(e.hMatrix[0][t-1]),1),s("p",{class:"bonus",style:f({opacity:e.bonusMatrix[0][t-1]==0?"0":"0.6"})},p("+"+e.bonusMatrix[0][t-1]),5)]))),128))]),s("tr",null,[xt,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"h2"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"h2"+t,onInput:a=>i.setHMatrix(2,t,a),value:e.hMatrix[1][t-1]==0?"":e.hMatrix[1][t-1]},null,40,ft),s("p",bt,p(e.hMatrix[1][t-1]),1),s("p",{class:"bonus",style:f({opacity:e.bonusMatrix[1][t-1]==0?"0":"0.6"})},p("+"+e.bonusMatrix[1][t-1]),5)]))),128))]),s("tr",null,[Mt,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"h3"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"h3"+t,onInput:a=>i.setHMatrix(3,t,a),value:e.hMatrix[2][t-1]==0?"":e.hMatrix[2][t-1]},null,40,wt),s("p",vt,p(e.hMatrix[2][t-1]),1),s("p",{class:"bonus",style:f({opacity:e.bonusMatrix[2][t-1]==0?"0":"0.6"})},p("+"+e.bonusMatrix[2][t-1]),5)]))),128))]),s("tr",null,[It,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"h4"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"h4"+t,onInput:a=>i.setHMatrix(4,t,a),value:e.hMatrix[3][t-1]==0?"":e.hMatrix[3][t-1]},null,40,kt),s("p",St,p(e.hMatrix[3][t-1]),1),s("p",{class:"bonus",style:f({opacity:e.bonusMatrix[3][t-1]==0?"0":"0.6"})},p("+"+e.bonusMatrix[3][t-1]),5)]))),128))]),s("tr",null,[Rt,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"h5"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"h5"+t,onInput:a=>i.setHMatrix(5,t,a),value:e.hMatrix[4][t-1]==0?"":e.hMatrix[4][t-1]},null,40,At),s("p",Ht,p(e.hMatrix[4][t-1]),1),s("p",{class:"bonus",style:f({opacity:e.bonusMatrix[4][t-1]==0?"0":"0.6"})},p("+"+e.bonusMatrix[4][t-1]),5)]))),128))]),s("tr",Ct,[Nt,(r(!0),l(h,null,d(i.getHScore,(t,a)=>(r(),l("td",{key:"H"+a,class:"num-td"},[s("input",{type:"number",class:"my-input print-off",value:t,disabled:""},null,8,Et),s("p",Tt,p(t),1)]))),128))]),s("tr",Dt,[Wt,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"C"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"C"+t,onInput:a=>i.setConeRow(t,a),value:e.coneRow[t-1]==0?"":e.coneRow[t-1]},null,40,Bt),s("p",Ft,p(e.coneRow[t-1]),1)]))),128))]),e.extensionEnabled?(r(),l("tr",Ot,[Jt,(r(!0),l(h,null,d(i.getArray(),t=>(r(),l("td",{key:"C"+t,class:"num-td"},[s("input",{type:"number",placeholder:"0",class:"my-input print-off",id:"C"+t,onInput:a=>i.setExtensionRow(t,a),value:e.extensionRow[t-1]==0?"":e.extensionRow[t-1]},null,40,Lt),s("p",Pt,p(e.extensionRow[t-1]),1)]))),128))])):x("",!0),s("tr",Vt,[jt,(r(!0),l(h,null,d(i.getTotalScore,(t,a)=>(r(),l("td",{key:"F"+a,class:"num-td"},[s("input",{type:"number",class:"my-input print-off",value:t,disabled:""},null,8,qt),s("p",zt,p(t),1)]))),128))])])]),s("button",{class:"btn reset-btn print-off",onClick:n[0]||(n[0]=t=>i.reset())},"Reset")],64)}const Kt=M(R,[["render",Qt],["__scopeId","data-v-684686da"]]),Xt={name:"TableView",components:{CasTable:Kt,MyLogo:I},data(){return{count:1,printing:!1}},mounted(){let o=this.$route.params.count;Array.isArray(o)&&(o=o[0]),!o||isNaN(parseInt(o))||parseInt(o)<1||parseInt(o)>6?this.$router.push({name:"home"}):this.count=parseInt(o)},methods:{goToHome(){this.$router.push({name:"home"})},saveAsExcel(){const o=document.querySelector("table");if(!o)return;const c=`<style>table{border-collapse: collapse;}td,th{border: 1px solid #000;padding: 5px;}</style>${o.outerHTML}`,e=`data:application/vnd.ms-excel;base64,${btoa(c)}`,i=document.createElement("a");i.href=e,i.download="table.xls",i.click()},saveAsPDF(){this.printing=!0;const o=document.getElementsByClassName("print-off"),n=[];Array.prototype.forEach.call(o,function(c){n.push(c.style.display),c.style.display="none"});const u=document.getElementsByClassName("print-only");Array.prototype.forEach.call(u,function(c){c.style.display="block"}),setTimeout(()=>{const c=document.documentElement.outerHTML,e=window.open("","printwindow");if(!e){alert("Please allow popups for this website");return}e.document.write(c),e.print(),e.close(),setTimeout(()=>{this.printing=!1,Array.prototype.forEach.call(o,function(i,t){i.style.display=n[t]}),Array.prototype.forEach.call(u,function(i){i.style.display="none"})},500)},500)},getDate(){const o=new Date,n=o.getDate(),u=o.toLocaleString("default",{month:"long"}),c=o.getFullYear();return`${n}. ${u} ${c}`}}},Yt={key:0},Gt={key:2},Ut={class:"container"},Zt={key:0,class:"url"},$t={key:1,class:"btn-container"};function ts(o,n,u,c,e,i){const t=b("MyLogo"),a=b("CasTable");return r(),l("div",null,[e.printing?x("",!0):(r(),l("h1",Yt,p(e.count)+" Player",1)),e.printing?(r(),k(t,{key:1,color:"black",big:!0})):x("",!0),e.printing?(r(),l("h1",Gt,p(i.getDate()),1)):x("",!0),s("div",Ut,[S(a,{count:e.count},null,8,["count"]),e.printing?(r(),l("h2",Zt,"cascoria.philipp-bonin.com")):x("",!0),e.printing?x("",!0):(r(),l("div",$t,[s("button",{class:"btn",onClick:n[0]||(n[0]=g=>i.saveAsPDF())},"Save as PDF"),s("button",{class:"btn",onClick:n[1]||(n[1]=g=>i.saveAsExcel())},"Save as Excel"),s("button",{class:"btn home-btn",onClick:n[2]||(n[2]=g=>i.goToHome())},"Home")]))])])}const es=M(Xt,[["render",ts],["__scopeId","data-v-9fa11c4f"]]);export{es as default};
